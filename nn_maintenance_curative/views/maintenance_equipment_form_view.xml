<odoo>
    <data>
        <record id="view_maintenance_equipment_form_custom" model="ir.ui.view">
            <field name="name">maintenance.hr.equipment.view.form.custom</field>
            <field name="model">maintenance.equipment</field>
            <field name="inherit_id" ref="maintenance.hr_equipment_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='maintenance']/group" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//page[@name='product_information']//field[@name='partner_ref']" position="after">
                    <field name="reference_interne" string="Référence Interne"/>
                </xpath>
                <xpath expr="//page[@name='maintenance']" position="inside">
                    <field name="sync_calendar_flag" invisible="1"/>
                    <field name="cleanup_flag" invisible="1"/>
                </xpath>
                <xpath expr="//page[@name='maintenance']" position="inside">
                    <group name="frequency_control" class="o_col_4"
                           style="width: 30%; display: flex; flex-wrap: wrap; align-items: center;">
                        <field name="is_mensuelle" string="Mensuelle" class="o_checkbox_inline"
                               style="padding-right: 20px; font-size: 16px;"/>
                        <field name="is_trimestrielle" string="Trimestrielle" class="o_checkbox_inline"
                               style="padding-right: 20px; font-size: 16px;"/>
                        <field name="is_semestrielle" string="Semestrielle" class="o_checkbox_inline"
                               style="padding-right: 20px; font-size: 16px;"/>
                        <field name="is_annuelle" string="Annuelle" class="o_checkbox_inline" style="font-size: 16px;"/>
                    </group>

                    <!-- Fréquence 1 -->
                    <div style="width:70%;" attrs="{'invisible': [('is_mensuelle', '=', False)]}">
                        <group name="frequency_control" class="o_col_4" style="width:80%;">
                            <field name="period_1_frequency" string="Période Mensuelle (en jours)" style="width:30%;"/>
                            <div class="oe_sticky_warning" t-if="period_1_warning">
                                <field name="period_1_warning" readonly="1" nolabel="1"/>
                            </div>
                        </group>
                        <group style="margin-left:200px;">
                            <group>
                                <field name="reference_intervention"/>
                                <field name="poste"/>
                            </group>
                            <group>
                                <field name="date_heure_debut_1" force_save="1" readonly="1"/>
                                <field name="date_heure_fin_1"/>
                            </group>
                        </group>
                        <field name="intervention_ligne_ids_1" style="margin-left:200px;">
                            <tree editable="bottom">
                                <field name="id" invisible="1" readonly="1"/>
                                <field name="numero" readonly="1"/>
                                <field name="operation_id" readonly="1" invisible="1"/>
                                <field name="operation_name" readonly="1"/>
                                <field name="frequency" readonly="1"/>
                                <field name="ok" attrs="{'invisible':[('nok','=',True)]}"/>
                                <field name="nok" attrs="{'invisible':[('ok','=',True)]}"/>
                                <field name="observations"/>
                            </tree>
                            <div></div>
                        </field>
                    </div>
                    <!-- Fréquence 2 -->
                    <div style="width:70%;" attrs="{'invisible': [('is_trimestrielle', '=', False)]}">
                        <group name="frequency_control_2" class="o_col_4" style="width:80%;">
                            <field name="period_2_frequency" string="Période Trimestrielle (en jours)"
                                   style="width:30%;"/>
                            <div class="oe_sticky_warning" t-if="period_2_warning">
                                <field name="period_2_warning" readonly="1" nolabel="1"/>
                            </div>
                        </group>
                        <group style="margin-left:200px;">
                            <group>
                                <field name="reference_intervention"/>
                                <field name="poste"/>
                            </group>
                            <group>
                                <field name="date_heure_debut_2" force_save="1" readonly="1"/>
                                <field name="date_heure_fin_2"/>
                            </group>
                        </group>
                        <field name="intervention_ligne_ids_2" style="margin-left:200px;">
                            <tree editable="bottom">
                                <field name="numero" readonly="1"/>
                                <field name="operation_id" readonly="1" invisible="1"/>
                                <field name="operation_name" readonly="1"/>
                                <field name="frequency" readonly="1"/>
                                <field name="ok" attrs="{'invisible':[('nok','=',True)]}"/>
                                <field name="nok" attrs="{'invisible':[('ok','=',True)]}"/>
                                <field name="observations"/>
                            </tree>
                            <div></div>
                        </field>
                    </div>
                    <!-- Fréquence 3 -->
                    <div style="width:70%;" attrs="{'invisible': [('is_semestrielle', '=', False)]}">
                        <group name="frequency_control_3" class="o_col_4" style="width:80%;">
                            <field name="period_3_frequency" string="Période Semestrielle (en jours)"
                                   style="width:30%;"/>
                            <div class="oe_sticky_warning" t-if="period_3_warning">
                                <field name="period_3_warning" readonly="1" nolabel="1"/>
                            </div>
                        </group>
                        <group style="margin-left:200px;">
                            <group>
                                <field name="reference_intervention"/>
                                <field name="poste"/>
                            </group>
                            <group>
                                <field name="date_heure_debut_3" force_save="1" readonly="1"/>
                                <field name="date_heure_fin_3"/>
                            </group>
                        </group>
                        <field name="intervention_ligne_ids_3" style="margin-left:200px;">
                            <tree editable="bottom">
                                <field name="numero" readonly="1"/>
                                <field name="operation_id" readonly="1" invisible="1"/>
                                <field name="operation_name" readonly="1"/>
                                <field name="frequency" readonly="1"/>
                                <field name="ok" attrs="{'invisible':[('nok','=',True)]}"/>
                                <field name="nok" attrs="{'invisible':[('ok','=',True)]}"/>
                                <field name="observations"/>
                            </tree>
                            <div></div>
                        </field>
                    </div>
                    <!-- Fréquence 4 -->
                    <div style="width:70%;" attrs="{'invisible': [('is_annuelle', '=', False)]}">
                        <group name="frequency_control_4" class="o_col_4" style="width:80%;">
                            <field name="period_4_frequency" string="Période Annuelle (en jours)" style="width:30%;"/>
                            <div class="oe_sticky_warning" t-if="period_4_warning">
                                <field name="period_4_warning" readonly="1" nolabel="1"/>
                            </div>
                        </group>
                        <group style="margin-left:200px;">
                            <group>
                                <field name="reference_intervention"/>
                                <field name="poste"/>
                            </group>
                            <group>
                                <field name="date_heure_debut_4" force_save="1" readonly="1"/>
                                <field name="date_heure_fin_4"/>
                            </group>
                        </group>
                        <field name="intervention_ligne_ids_4" style="margin-left:200px;">
                            <tree editable="bottom">
                                <field name="numero" readonly="1"/>
                                <field name="operation_id" readonly="1" invisible="1"/>
                                <field name="operation_name" readonly="1"/>
                                <field name="frequency" readonly="1"/>
                                <field name="ok" attrs="{'invisible':[('nok','=',True)]}"/>
                                <field name="nok" attrs="{'invisible':[('ok','=',True)]}"/>
                                <field name="observations"/>
                            </tree>
                            <div></div>
                        </field>
                    </div>
                    <xpath expr="//page[@name='maintenance']" position="inside">
                        <group>
                            <group string="Planification de la maintenance préventive">
                                <div>
                                    <div>
                                        <label for="effective_date"
                                               style="font-size:15px; font-weight:500; color:#000;"/>
                                        <field name="effective_date"
                                               style="font-size:15px; font-weight:500; color:#000;"/>
                                    </div>
                                    <div>
                                        <label for="start_maintenance_date"
                                               style="font-size:15px; font-weight:500; color:#000;"/>
                                        <field name="start_maintenance_date"
                                               style="font-size:15px; font-weight:500; color:#000;"/>
                                    </div>
                                </div>
                            </group>
                            <group string="Dates Prochaines de Maintenance">
                                <div>
                                    <div style="margin-bottom:10px;"
                                         attrs="{'invisible': [('is_mensuelle', '=', False)]}">
                                        <label for="next_maintenance_mensuelle"
                                               style="font-size:16px; font-weight:bold; color:#333;"/>
                                        <field name="next_maintenance_mensuelle" readonly="1" force_save="1"
                                               style="font-size:15px; font-weight:500; color:#000;"/>
                                    </div>
                                    <div style="margin-bottom:10px;"
                                         attrs="{'invisible': [('is_trimestrielle', '=', False)]}">
                                        <label for="next_maintenance_trimestrielle"
                                               style="font-size:16px; font-weight:bold; color:#333;"/>
                                        <field name="next_maintenance_trimestrielle" readonly="1" force_save="1"
                                               style="font-size:15px; font-weight:500; color:#000;"/>
                                    </div>
                                    <div style="margin-bottom:10px;"
                                         attrs="{'invisible': [('is_semestrielle', '=', False)]}">
                                        <label for="next_maintenance_semestrielle"
                                               style="font-size:16px; font-weight:bold; color:#333;"/>
                                        <field name="next_maintenance_semestrielle" readonly="1" force_save="1"
                                               style="font-size:15px; font-weight:500; color:#000;"/>
                                    </div>
                                    <div style="margin-bottom:10px;"
                                         attrs="{'invisible': [('is_annuelle', '=', False)]}">
                                        <label for="next_maintenance_annuelle"
                                               style="font-size:16px; font-weight:bold; color:#333;"/>
                                        <field name="next_maintenance_annuelle" readonly="1" force_save="1"
                                               style="font-size:15px; font-weight:500; color:#000;"/>
                                    </div>
                                </div>
                            </group>
                        </group>
                    </xpath>
                </xpath>
            </field>
        </record>
    </data>
</odoo>
