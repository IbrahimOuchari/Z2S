<odoo>


    <!-- This assumes you have identified the view that renders `workorder_ids` -->
    <record id="mrp_production_move_raw_ids_quantity_track" model="ir.ui.view">
        <field name="name">custom.mrp.prod.move.raw.ids</field>
        <field name="model">mrp.production</field>
        <field name="inherit_id" ref="mrp.mrp_production_form_view"/> <!-- Replace with the actual parent view ID -->
        <field name="arch" type="xml">

            <xpath expr="//field[@name='product_id']" position="replace">
                <field name="product_id"
                       domain="[('sale_ok', '=', True), ('state_product', '=', '1')]"
                       context="{'default_type': 'product'}"
                       can_create="true"
                       can_write="true"
                       modifiers="{'readonly':[['state','not in',['draft']]],'required':true}"/>
            </xpath>
            <xpath expr="//button[@name='action_cancel'][2]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//div[@name='button_box']" position="inside">
                <!--                &lt;!&ndash; Button for qty_delivered_total &ndash;&gt;-->
                <!--                <button type="object"-->
                <!--                        class="oe_stat_button"-->
                <!--                        name="dummy_button_qty_delivered"-->
                <!--                        icon="fa-truck">-->
                <!--                    <div class="o_field_widget o_stat_info">-->
                <!--                        <span class="o_stat_value">-->
                <!--                            <field name="qty_delivered_total" widget="float"/>-->
                <!--                        </span>-->
                <!--                        <span class="o_stat_text">Track√©e</span>-->
                <!--                    </div>-->
                <!--                </button>-->

                <!--                &lt;!&ndash; Button for qty_left_total &ndash;&gt;-->
                <!--                <button type="object"-->
                <!--                        class="oe_stat_button"-->
                <!--                        name="dummy_button_qty_left"-->
                <!--                        icon="fa-hourglass-half">-->
                <!--                    <div class="o_field_widget o_stat_info">-->
                <!--                        <span class="o_stat_value">-->
                <!--                            <field name="qty_left_total" widget="float" readonly="True"/>-->
                <!--                        </span>-->
                <!--                        <span class="o_stat_text">Restante</span>-->
                <!--                    </div>-->
                <!--                </button>-->
                <!--                <button type="object"-->
                <!--                        class="oe_stat_button"-->
                <!--                        name="dummy_button_qty_left"-->
                <!--                        icon="fa-hourglass-half">-->
                <!--                    <div class="o_field_widget o_stat_info">-->
                <!--                        <span class="o_stat_value">-->
                <!--                            <field name="mark_button_done" readonly="True"/>-->
                <!--                        </span>-->
                <!--                        <span class="o_stat_text">Compute trigger counter</span>-->
                <!--                    </div>-->
                <!--                </button>-->
                <!--                <button type="object"-->
                <!--                        class="oe_stat_button"-->
                <!--                        name="dummy_button_qty_left"-->
                <!--                        icon="fa-hourglass-half">-->
                <!--                    <div class="o_field_widget o_stat_info">-->
                <!--                        <span class="o_stat_value">-->
                <!--                            <field name="mark_button_done_counter" readonly="True"/>-->
                <!--                        </span>-->
                <!--                        <span class="o_stat_text">Mark Done counter</span>-->
                <!--                    </div>-->
                <!--                </button>-->

            </xpath>

            <xpath expr="//page[@name='components']/field[@name='move_raw_ids']/tree" position="inside">
                <field name="qty_delivered" optional="hide" force_save="1"/>
                <field name="qty_left" optional="hide" force_save="1"/>
                <field name="qty_needed" optional="hide" force_save="1"/>
                <field name="qty_needed_total" optional="hide" force_save="1"/>
                <field name="qty_not_consumed" optional="hide" force_save="1"/>


            </xpath>
            <xpath expr="//page[@name='components']/field[@name='move_raw_ids']" position="attributes">
                <attribute name="readonly">True</attribute>
                <attribute name="force_save">1</attribute>


            </xpath>
            <xpath expr="//page[@name='components']/field[@name='move_raw_ids']/tree/field[@name='quantity_left']"
                   position="replace">

            </xpath>


        </field>

    </record>
</odoo>

